{"name":"hm","tagline":"Archaeological sequence diagrams","body":"# hm\r\n=============\r\n\r\nWrite Graphviz `dot` files for archaeological sequence diagrams.\r\n\r\n## Install\r\n\r\nThe hm package is Common Lisp software that runs on [SBCL](http://www.sbcl.org/) and [Clozure CL](http://ccl.clozure.com/).\r\n \r\nInstallation with Quicklisp is recommended.  It automatically installs [dependencies](http://eschulte.github.io/graph/).\r\n\r\n`cd ~/quicklisp/local-projects`\r\n\r\n`git clone https://github.com/tsdye/harris-matrix.git`\r\n\r\n## Load\r\n\r\n`(ql:quickload \"hm\")`\r\n\r\n## Draw\r\n\r\n`(hm-draw \"path/to/configuration/file\")`\r\n\r\n## Overview\r\n\r\nThe `hm` package produces Graphviz `dot` source code for archaeological sequence diagrams from tables of stratigraphic observations, inferences, and interpretations.\r\n\r\nThe `hm` package provides a single function, `hm-draw`, which expects a valid path to a configuration file as its sole argument.\r\n\r\nThe configuration file specifies paths to one or more data files and sets values for about four dozen Graphviz `dot` variables.\r\n\r\nThe configuration information and the data are held in comma separated value files.  Together, the configuration and data files can hold a complete description of site stratigraphy and its interpretation. \r\n\r\n## Example Output\r\n\r\nThe stratigraphic section shown in Figure 12 of Edward Harris' book, _Principles of Archaeological Stratigraphy_.  Note that the symbol for a deposit is a box and for an interface a trapezium. In this example, the nodes are colored according to the directed graph concept of _level_.\r\n\r\n![fig-12-harris-levels-tred.svg](http://harris-matrix.tsdye.com/img/fig-12-harris-levels-tred.svg)\r\n\r\n## Data Tables\r\n\r\nThere are five data tables used as input to `hm`.\r\n\r\n### Units of Stratification\r\n\r\n-   **label:** context identifier (primary key)\r\n-   **unit-type:** interface or deposit\r\n-   **position:** surface/basal/other\r\n-   **period:** period identifier (foreign key)\r\n-   **phase:** phase identifier (foreign key)\r\n-   **url:** node link (svg output only)\r\n\r\n<table id=\"contexts\" border=\"2\" cellspacing=\"0\" cellpadding=\"6\" rules=\"groups\" frame=\"hsides\">\r\n\r\n\r\n<colgroup>\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n</colgroup>\r\n<tbody>\r\n<tr>\r\n<td class=\"left\">label</td>\r\n<td class=\"left\">unit-type</td>\r\n<td class=\"left\">position</td>\r\n<td class=\"left\">period</td>\r\n<td class=\"left\">phase</td>\r\n<td class=\"left\">url</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n\r\n### Observed Stratigraphic Relations\r\n\r\nThis table includes observations of stratigraphic superposition.  Its\r\nfirst two columns refer to values from the `label` column of the\r\ncontexts table.\r\n-   **younger:** stratigraphically superior context label (foreign key)\r\n-   **older:** stratigraphically inferior context label (foreign key)\r\n-   **url:** arc link (svg output only)\r\n\r\n<table id=\"observations\" border=\"2\" cellspacing=\"0\" cellpadding=\"6\" rules=\"groups\" frame=\"hsides\">\r\n\r\n\r\n<colgroup>\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n</colgroup>\r\n<tbody>\r\n<tr>\r\n<td class=\"left\">younger</td>\r\n<td class=\"left\">older</td>\r\n<td class=\"left\">url</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n\r\n### Inferred Parity Relations\r\n\r\nThis table contains inferences of parity between pairs of\r\ndiscontiguous contexts.\r\n\r\n-   **first:** context label (foreign key)\r\n-   **second:** context label (foreign key)\r\n\r\n<table id=\"inferences\" border=\"2\" cellspacing=\"0\" cellpadding=\"6\" rules=\"groups\" frame=\"hsides\">\r\n\r\n\r\n<colgroup>\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n</colgroup>\r\n<tbody>\r\n<tr>\r\n<td class=\"left\">first</td>\r\n<td class=\"left\">second</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n\r\n### Periods\r\n\r\n-   **id:** a unique integer to identify the period (primary key)\r\n-   **label:** name of the period used in the legend\r\n-   **color:** zero-based integer scale for a [Brewer color](http://www.graphviz.org/doc/info/colors.html#brewer)\r\n-   **description:** optional field not used by `hm`\r\n\r\n<table id=\"periods\" border=\"2\" cellspacing=\"0\" cellpadding=\"6\" rules=\"groups\" frame=\"hsides\">\r\n\r\n\r\n<colgroup>\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n</colgroup>\r\n<tbody>\r\n<tr>\r\n<td class=\"left\">id</td>\r\n<td class=\"left\">label</td>\r\n<td class=\"left\">color</td>\r\n<td class=\"left\">description</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n\r\n### Phases\r\n\r\n-   **id:** a unique integer to identify the phase (primary key)\r\n-   **label:** name of the phase used in the legend\r\n-   **color:** zero-based integer scale for a [Brewer color](http://www.graphviz.org/doc/info/colors.html#brewer)\r\n-   **description:** optional field not used by `hm`\r\n\r\n<table id=\"phases\" border=\"2\" cellspacing=\"0\" cellpadding=\"6\" rules=\"groups\" frame=\"hsides\">\r\n\r\n\r\n<colgroup>\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n\r\n<col  class=\"left\" />\r\n</colgroup>\r\n<tbody>\r\n<tr>\r\n<td class=\"left\">id</td>\r\n<td class=\"left\">label</td>\r\n<td class=\"left\">color</td>\r\n<td class=\"left\">description</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}